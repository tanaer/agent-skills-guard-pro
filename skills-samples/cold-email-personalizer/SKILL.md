---
name: cold-email-personalizer
description: 根据潜在客户信息自动生成个性化冷邮件，包含定制化的主题行和邮件正文，提高邮件打开率和回复率。
---

# 冷邮件个性化群发

根据潜在客户(Lead)的信息，自动生成高度个性化的冷邮件，包含引人注目的主题行和针对性的邮件正文。

## 触发条件

当用户说以下内容时启动此技能：
- "生成冷邮件"
- "个性化邮件"
- "cold email"
- "帮我写开发信"
- "群发邮件"
- "outreach email"

## 工作流程

```
┌─────────────────────┐
│  读取潜在客户数据     │
│  (CSV/JSON 文件)     │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│  筛选未处理的客户     │
│  (status != "sent") │
└──────────┬──────────┘
           │
           ▼
    ┌──────┴──────┐
    │  遍历每位客户  │
    └──────┬──────┘
           │
           ▼
┌─────────────────────┐
│  收集客户背景信息     │
│  (公司/职位/行业)    │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│  AI 生成个性化邮件   │
│  - 主题行            │
│  - 邮件正文          │
└──────────┬──────────┘
           │
           ▼
┌─────────────────────┐
│  输出结构化结果       │
│  保存到输出文件       │
└─────────────────────┘
```

## 数据格式

### 输入文件格式 (leads.csv 或 leads.json)

**CSV 格式**:
```csv
name,email,company,position,industry,status
张三,zhang@example.com,科技有限公司,产品经理,SaaS,pending
李四,li@example.com,电商平台,运营总监,电商,pending
```

**JSON 格式**:
```json
{
  "leads": [
    {
      "name": "张三",
      "email": "zhang@example.com",
      "company": "科技有限公司",
      "position": "产品经理",
      "industry": "SaaS",
      "linkedin": "https://linkedin.com/in/zhangsan",
      "status": "pending"
    }
  ]
}
```

### 输出格式

```json
{
  "emails": [
    {
      "to": "zhang@example.com",
      "name": "张三",
      "subject": "关于提升产品团队效率的一点想法",
      "body": "张三你好，\n\n我注意到科技有限公司最近在扩张产品线...",
      "generated_at": "2025-12-29T10:30:00Z"
    }
  ]
}
```

## 执行步骤

### 步骤 1：准备客户数据

检查用户是否提供了数据文件路径：
- 如果提供了文件路径，读取该文件
- 如果没有提供，询问用户：
  - 提供 CSV/JSON 文件路径
  - 或直接输入客户信息

### 步骤 2：读取并解析数据

使用 Read 工具读取客户数据文件：

```
读取文件 → 解析 CSV/JSON → 提取客户列表
```

验证必需字段：
- `name` (必需)
- `email` (必需)
- `company` (可选但推荐)
- `position` (可选)
- `industry` (可选)

### 步骤 3：筛选待处理客户

过滤条件：
- `status` 不是 "sent"
- `status` 不是 "replied"
- 或 `status` 为空/pending

### 步骤 4：收集客户背景（可选增强）

如果客户信息不够详细，可以选择性地补充信息：

**使用 WebSearch 搜索**:
```
"[客户姓名] [公司名] LinkedIn"
"[公司名] 最新动态 融资"
```

提取：
- 公司最近成就/新闻
- 客户的职业亮点
- 行业痛点

### 步骤 5：生成个性化邮件

对每个客户，使用以下提示词生成邮件：

---

**邮件生成提示词**:

```
你是一位专业的商务开发专家，擅长撰写高转化率的冷邮件。

请根据以下潜在客户信息，生成一封个性化的冷邮件：

【客户信息】
- 姓名: {name}
- 邮箱: {email}
- 公司: {company}
- 职位: {position}
- 行业: {industry}
- 其他信息: {additional_info}

【我们的产品/服务】
{product_description}

【邮件要求】
1. 主题行要简短有力，引起好奇心，避免垃圾邮件关键词
2. 开头要个性化，体现你了解对方
3. 痛点切入要精准，基于对方行业/职位
4. 价值主张要清晰，3秒内让对方明白能获得什么
5. CTA（行动号召）要具体，比如"15分钟快速交流"
6. 整体不超过150字（中文）/ 100词（英文）
7. 语气专业但不死板，像朋友推荐而非推销

【输出格式】
请严格按照以下 JSON 格式输出：
{
  "subject": "邮件主题行",
  "body": "邮件正文内容"
}
```

---

### 步骤 6：整理输出结果

将所有生成的邮件汇总为结构化输出：

```json
{
  "generated_at": "2025-12-29T10:30:00Z",
  "total_leads": 10,
  "processed": 8,
  "skipped": 2,
  "emails": [
    {
      "to": "zhang@example.com",
      "name": "张三",
      "subject": "...",
      "body": "...",
      "personalization_points": ["提到了公司最近融资", "针对产品经理痛点"]
    }
  ]
}
```

### 步骤 7：保存结果

输出文件保存到：`~/.claude/cache/cold-emails/`

文件命名：`emails-{日期}-{时间}.json`

同时生成预览文件（Markdown格式）便于人工审核：

```markdown
# 冷邮件生成结果

**生成时间**: 2025-12-29 10:30
**处理数量**: 8/10

---

## 邮件 #1 - 张三

**收件人**: zhang@example.com
**主题**: 关于提升产品团队效率的一点想法

**正文**:
张三你好，

我注意到科技有限公司最近在扩张产品线...

---
```

## 使用示例

### 示例 1：从文件批量生成

```
用户: 帮我根据 /path/to/leads.csv 生成冷邮件，我们的产品是一款 AI 客服工具

Claude:
1. 读取 leads.csv，发现 15 位潜在客户
2. 筛选出 12 位未处理客户
3. 逐一生成个性化邮件
4. 保存结果到 ~/.claude/cache/cold-emails/
5. 显示预览供用户审核
```

### 示例 2：单个客户即时生成

```
用户: 帮我给李总写一封冷邮件，他是 ABC公司 的 CEO，主要做跨境电商

Claude:
[直接根据提供的信息生成个性化邮件]
```

### 示例 3：批量生成并导出

```
用户: 生成冷邮件并导出为 CSV，方便导入邮件工具

Claude:
[生成邮件后，额外导出 CSV 格式]
```

## 邮件质量检查清单

生成邮件后，自动检查：

- [ ] 主题行长度 < 50 字符
- [ ] 主题行不含垃圾词（免费、促销、限时等）
- [ ] 正文有个性化元素（姓名、公司、行业）
- [ ] 有明确的价值主张
- [ ] 有清晰的 CTA
- [ ] 正文长度适中（100-200 字）

## 最佳实践

### 提高打开率
- 主题行使用小写开头（看起来更像私人邮件）
- 加入具体数字或时效性词汇
- A/B 测试：为同一客户生成 2-3 个主题行候选

### 提高回复率
- 开头展示你做过研究（提及公司最近动态）
- 痛点描述要具体，不要泛泛而谈
- CTA 门槛要低（15分钟聊聊 vs 购买产品）

### 避免进垃圾箱
- 避免全大写
- 避免过多感叹号
- 避免营销词汇（免费试用、限时优惠等）
- 第一封邮件不要放附件

## 数据存储

- 输出目录：`~/.claude/cache/cold-emails/`
- JSON 结果：`emails-{YYYYMMDD}-{HHMMSS}.json`
- Markdown 预览：`emails-{YYYYMMDD}-{HHMMSS}.md`
- CSV 导出（可选）：`emails-{YYYYMMDD}-{HHMMSS}.csv`

## 依赖工具

- **Read**: 读取客户数据文件
- **WebSearch**: (可选) 补充客户背景信息
- **Write**: 保存生成的邮件结果

## 限制说明

- 此技能生成邮件内容，不负责实际发送
- 建议人工审核后再发送
- 大批量发送请遵守邮件服务商的发送限制
- 请确保遵守当地反垃圾邮件法规（如 GDPR, CAN-SPAM）

## 原始来源

改编自 n8n 模板：
- 模板ID: 6089
- 原名: Automate Cold Outreach with Email Personalization using Gemini and Google Sheets
- 链接: https://n8n.io/workflows/6089
