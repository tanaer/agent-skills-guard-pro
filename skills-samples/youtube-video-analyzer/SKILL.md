---
name: youtube-video-analyzer
description: 分析YouTube视频内容，自动提取字幕/转录文本，生成结构化摘要、核心观点和关键概念。适合快速了解长视频内容。
---

# YouTube 视频情报挖掘

无需观看完整视频，快速获取 YouTube 视频的核心内容、关键观点和结构化摘要。

## 触发条件

当用户说以下内容时启动此技能：
- "分析这个YouTube视频"
- "总结这个视频"
- "帮我看看这个视频讲了什么"
- "YouTube video summary"
- 或直接提供 YouTube 链接

## 工作流程

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│  解析视频URL     │───▶│  获取视频信息    │───▶│  提取字幕/描述   │
│  提取Video ID   │    │  标题/作者/时长  │    │  (WebFetch)     │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                                      │
                                                      ▼
                              ┌─────────────────────────────────────┐
                              │            AI 分析生成               │
                              │  • 内容摘要                         │
                              │  • 核心观点（按主题分类）            │
                              │  • 关键术语解释                      │
                              │  • 实用建议/行动项                   │
                              └─────────────────────────────────────┘
```

## 执行步骤

### 步骤 1：解析 YouTube URL

从用户提供的 URL 中提取 Video ID。支持多种格式：
- `https://www.youtube.com/watch?v=VIDEO_ID`
- `https://youtu.be/VIDEO_ID`
- `https://youtube.com/embed/VIDEO_ID`

提取规则（正则）：
```
(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})
```

### 步骤 2：获取视频基础信息

使用 WebFetch 访问视频页面，提取：
- 视频标题
- 频道名称
- 发布时间
- 视频时长
- 视频描述

### 步骤 3：获取视频内容

**方法 A**（推荐）：通过第三方转录服务
- 尝试访问 `https://youtubetranscript.com/?v=VIDEO_ID`
- 或使用其他字幕提取 API

**方法 B**：分析视频描述和评论
- 如果无法获取字幕，基于视频描述和标题进行分析

### 步骤 4：AI 结构化分析

对获取的内容进行分析，按以下结构输出：

```markdown
## 视频概要

**标题**: [视频标题]
**频道**: [频道名称]
**时长**: [时长]
**链接**: [原始链接]

## 内容摘要

[2-3 句话概括视频主要内容]

## 核心观点

### 主题 1: [主题名称]
- 要点 1
- 要点 2

### 主题 2: [主题名称]
- 要点 1
- 要点 2

## 关键术语

| 术语 | 解释 |
|------|------|
| **术语1** | 简要解释 |
| **术语2** | 简要解释 |

## 实用建议

- [ ] 行动项 1
- [ ] 行动项 2

## 适合人群

- 人群 1
- 人群 2
```

## 使用示例

### 示例 1：分析单个视频

```
用户: 帮我分析这个视频 https://www.youtube.com/watch?v=dQw4w9WgXcQ

Claude:
1. 解析 URL，提取 Video ID: dQw4w9WgXcQ
2. 获取视频信息和描述
3. 尝试获取字幕内容
4. 生成结构化分析报告
```

### 示例 2：快速了解长视频

```
用户: 这个2小时的演讲视频讲了什么？[URL]

Claude:
[生成简洁的内容摘要，突出核心观点]
```

## 数据存储

已分析的视频缓存在：`~/.claude/cache/youtube-video-analyzer/`

文件命名：
- `{VIDEO_ID}-{YYYYMMDD}.md`：视频分析报告
- `cache.json`：已分析视频的索引缓存

```json
{
  "VIDEO_ID": {
    "title": "视频标题",
    "analyzed_at": "2025-12-29T10:00:00Z",
    "summary": "...",
    "key_points": [...]
  }
}
```

## 依赖工具

- **WebFetch**: 获取视频页面和字幕
- **Read/Write**: 缓存分析结果

## 限制说明

- 无字幕的视频只能基于描述分析，信息可能不完整
- 私密视频或地区限制视频无法访问
- 非常长的视频（>2小时）可能只分析部分内容

## 原始来源

改编自 n8n 模板：
- 模板ID: 2679
- 原名: AI-Powered YouTube Video Summarization & Analysis
- 链接: https://n8n.io/workflows/2679
